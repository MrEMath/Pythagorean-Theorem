<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Pythagorean Squares Rotator</title>
  <style>
    body { font-family: system-ui, sans-serif; }
    #controls { margin: 1rem; }
    svg { border: 1px solid #ccc; display: block; margin: 0 auto; }
  </style>
</head>
<body>
  <div id="controls">
    <label for="angle">Angle: </label>
    <!-- 0..180 mapped to old 37..217 in JS -->
    <input id="angle" type="range" min="0" max="180" value="0" />
    <span id="angleValue">0Â°</span>
  </div>

  <!-- Canvas centered at (0,0) in viewBox -->
  <svg id="canvas" viewBox="-296.6667 -310 700 700" width="900" height="900">
    <!-- deviceWrapper will be rotated around the triangle centroid -->
    <g id="deviceWrapper">
      <g id="device">
        <!-- Triangle: vertices (0,0), (160,0), (0,120) -->
        <line x1="0" y1="0" x2="160" y2="0"
              stroke="#011b2b" stroke-width="3" />
        <line x1="0" y1="0" x2="0" y2="120"
              stroke="#011b2b" stroke-width="3" />
        <line x1="160" y1="0" x2="0" y2="120"
              stroke="#011b2b" stroke-width="3" />
        <!-- side labels -->
        <text x="-95" y="113" text-anchor="middle" font-size="20" font-weight="bold" font-style="italic" font-family="Fira Sans, Cambria, 'Cambria Math', sans-serif"
              transform="rotate(180 -10 60)"
              fill="#c62828">b</text>      <!-- horizontal leg (red) -->
        <text x="-5" y="43" text-anchor="end" font-size="20" font-weight="bold" font-style="italic" font-family="Fira Sans, Cambria, 'Cambria Math', sans-serif"
              transform="rotate(90 -10 60)"
              fill="#1565c0">a</text>       <!-- vertical leg (blue) -->
        <text x="60" y="105" text-anchor="middle" font-size="20" font-weight="bold" font-style="italic" font-family="Fira Sans, Cambria, 'Cambria Math', sans-serif"
              transform="rotate(-35 -10 60)"
              fill="#6a1b9a">c</text>      <!-- hypotenuse (purple) -->

        <!-- Square on horizontal leg (160) with 4x4 grid -->
        <g id="squareB">
          <!-- 4x4 grid (light red) -->
          <line x1="40" y1="-160" x2="40" y2="0" stroke="#ffcdd2" stroke-width="1" />
          <line x1="80" y1="-160" x2="80" y2="0" stroke="#ffcdd2" stroke-width="1" />
          <line x1="120" y1="-160" x2="120" y2="0" stroke="#ffcdd2" stroke-width="1" />
          <line x1="0" y1="-120" x2="160" y2="-120" stroke="#ffcdd2" stroke-width="1" />
          <line x1="0" y1="-80"  x2="160" y2="-80"  stroke="#ffcdd2" stroke-width="1" />
          <line x1="0" y1="-40"  x2="160" y2="-40"  stroke="#ffcdd2" stroke-width="1" />
          <rect x="0" y="-160" width="160" height="160"
                fill="none" stroke="#c62828" stroke-width="6" />
          <polygon id="liqB"
                   fill="rgba(198,40,40,0.25)" stroke="none" />
        </g>

        <!-- Square on vertical leg (120) with 3x3 grid -->
        <g id="squareA">
          <!-- 3x3 grid (light blue) -->
          <line x1="-80" y1="0"  x2="-80" y2="120" stroke="#bbdefb" stroke-width="1" />
          <line x1="-40" y1="0"  x2="-40" y2="120" stroke="#bbdefb" stroke-width="1" />
          <line x1="-120" y1="40" x2="0"   y2="40"  stroke="#bbdefb" stroke-width="1" />
          <line x1="-120" y1="80" x2="0"   y2="80"  stroke="#bbdefb" stroke-width="1" />
          <rect x="-120" y="0" width="120" height="120"
                fill="none" stroke="#1565c0" stroke-width="6" />
          <polygon id="liqA"
                   fill="rgba(21,101,192,0.25)" stroke="none" />
        </g>

        <!-- Big square on hypotenuse with 5x5 grid -->
        <g id="bigSquare" transform="translate(0,120) rotate(-36.87)">
          <!-- 5x5 grid (light purple) -->
          <line x1="40"  y1="0"   x2="40"  y2="200" stroke="#e1bee7" stroke-width="1" />
          <line x1="80"  y1="0"   x2="80"  y2="200" stroke="#e1bee7" stroke-width="1" />
          <line x1="120" y1="0"   x2="120" y2="200" stroke="#e1bee7" stroke-width="1" />
          <line x1="160" y1="0"   x2="160" y2="200" stroke="#e1bee7" stroke-width="1" />
          <line x1="0"   y1="40"  x2="200" y2="40"  stroke="#e1bee7" stroke-width="1" />
          <line x1="0"   y1="80"  x2="200" y2="80"  stroke="#e1bee7" stroke-width="1" />
          <line x1="0"   y1="120" x2="200" y2="120" stroke="#e1bee7" stroke-width="1" />
          <line x1="0"   y1="160" x2="200" y2="160" stroke="#e1bee7" stroke-width="1" />
          <rect x="0" y="0" width="200" height="200"
                fill="none" stroke="#6a1b9a" stroke-width="6" />
          <polygon id="liqC"
                   fill="rgba(106,27,154,0.25)" stroke="none" />
        </g>
      </g>
    </g>

    <!-- Equation at top center -->
    <text x="0" y="-320"
          text-anchor="middle"
          font-size="40"
          font-weight="bold"
          font-style="italic"
          font-family="Fira Sans, Cambria, 'Cambria Math', sans-serif">
      <tspan fill="#1565c0">a</tspan>
      <tspan dy="-8" font-size="28" fill="#1565c0">2</tspan>
      <tspan dy="8" fill="#000000"> + </tspan>
      <tspan fill="#c62828">b</tspan>
      <tspan dy="-8" font-size="28" fill="#c62828">2</tspan>
      <tspan dy="8" fill="#000000"> = </tspan>
      <tspan fill="#6a1b9a">c</tspan>
      <tspan dy="-8" font-size="28" fill="#6a1b9a">2</tspan>
    </text>
  </svg>

  <script src="main.js"></script>
</body>
</html>
